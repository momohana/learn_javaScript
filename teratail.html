<!DOCTYPE html>
<html>
<body>
<table border id="t1">
  <thead>
    <tr>
      <th></th>
      <th>name</th>
      <th>name_id</th>
      <th>class</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><input type="checkbox"></td>
      <td>John</td>
      <td>47</td>
      <td>88</td>
    </tr>
    <tr>
      <td><input type="checkbox"></td>
      <td>Bob</td>
      <td>36</td>
      <td>83</td>
    </tr>
    <tr>
      <td><input type="checkbox"></td>
      <td>Jane</td>
      <td>23</td>
      <td>88</td>
    </tr>
    <tr>
      <td><input type="checkbox"></td>
      <td>Keny</td>
      <td>46</td>
      <td>82</td>
    </tr>
    <tr>
      <td><input type="checkbox"></td>
      <td>Ann</td>
      <td>32</td>
      <td>88</td>
    </tr>
    <tr>
      <td><input type="checkbox"></td>
      <td>Curry</td>
      <td>29</td>
      <td>83</td>
    </tr>
  </tbody>
</table>
<input type="button" value="go" />
</body>

<script type="text/javascript" language="javascript">
  $(function() {
    $('#t1 [type=checkbox]').on('change',function() {
      var flg=$('#t1:has(:checked)').length>0;
      var cls=!flg?"":$(this).closest('tr').find('td:nth-child(4)').text();
      $(this).closest('tbody').find('tr').show().filter(function() {
        return $(this).find('td:nth-child(4)').text() !== cls;
      }).toggle(!flg);
    });
    $('[type=button][value=go]').on('click',function() {
      var arr=[];
      $('#t1 tr:has(:checked)').find('td:nth-child(3)').each(function() {
        arr.push($(this).text());
      });
      console.log(arr);
    });
  });
</script>
</html>
